generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model Lieu {
  id           Int         @id @default(autoincrement())
  libelle      String
  adresse      String
  ville        String
  numero_salle String?
  evenements   Evenement[]
}

model Type {
  id         Int         @id @default(autoincrement())
  nom        String
  evenements Evenement[]
}

model Evenement {
  id     Int      @id @default(autoincrement())
  nom    String
  lieuId Int      @unique
  lieu   Lieu     @relation(fields: [lieuId], references: [id])
  typeId Int      @unique
  type   Type     @relation(fields: [typeId], references: [id])
  utilisateurBouchonId  Int @unique
  utilisateurBouchon  UtilisateurBouchon  @relation(fields: [utilisateurBouchonId], references: [id])
  dateDebut DateTime
  dateFin DateTime
}

// TODO utiliser la vrai table des utilisateur
model UtilisateurBouchon {
  id    Int      @id @default(autoincrement())
  evenements  Evenement[]
}